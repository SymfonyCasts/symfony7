# Twig & Templates

Coming Soon...

I want to return HTML for our page. Now, of course, we can return HTML right from inside of our PHP code, but that is going to get ugly fast. So instead, we'll use a PHP library called twig. At your terminal, make sure that you've committed your changes, just so we can better see what this package's recipe does to our project. I've already committed everything. Then install it with composer require twig. You probably recognize this is a twig alias, and this time it's a twig alias to symphony slash twig pack. This word pack here is important in symphony. Packs are kind of fake packages that help you install multiple packages. So even though, so what's the result here? Open up composer.json. Instead of there being one new one new library in here called symphony slash twig pack, symphony slash twig pack isn't even in here. Instead, we have three new packages for twig. The three packages that we need for a really robust twig setup. So when you see pack, it's not a big deal. This is just a shortcut to install multiple package is into our code at once. All right, let's check out the recipe by running git status. So we see the usual composer.json, composer.lock and symphony.lock. But for the first time we see a config bundles.php. A bundle is a PHP package that adds something to symphony. It's basically a symphony plugin. And whenever you install a bundle, you need to configure it in this bundles.php file. But honestly, but the recipe system is always going to do it for us. So this is a good thing to notice, but you're never going to need to think about or modify this file ever. The second thing the recipe did was create a config packages twig.yaml file. It turns out everything in config packages is configuration to configure the bundles in our system. So for example, twig.yaml is configuration for the twig bundle, it controls the behavior of twig bundle. This case, we have some configuration that tells twig, hey, all my templates are going to end in dot twig. And there's a whole bunch of other things that we can configure in here. And we're going to talk more about these configuration files in the next tutorial.  The final thing the package did was add a templates directory, which you guessed it is where our templates are going to live. It started us with a base dot html twig template, which we'll talk about in a few minutes. So let's render our first template. To do that, make your controller extend a base class called abstract controller, be sure to hit tab so that it adds the US statement on top. Extending this base class is optional, but it gives us a bunch of shortcut methods, which are going to be super handy. For example, to render, copy the string we have inside of here. And then to render a template type return this arrow render, and then pass your a file name for your template. main slash homepage dot html dot twig, you can call your twig template whatever you want. But the standard is to have a directory that matches your controller name, and a file name that matches your method name. All right, let's go create that. And templates create a new directory called main. And inside of that, a new file called homepage dot html dot twig. And paste. And let's change this to an h1. And we'll put it around everything. All right, check it out, refresh. It works. And by the way, I just want to point out, our controller is still returning a response object. I know this because I have a response return type, and it's not my code isn't exploding. The render method is just a shortcut to render this template, get the string and put the string into a response object for us. So even though rendering a template, it's still always go back goes back to the idea of our controller returns a response. Okay, what about passing data to the template? Maybe we query the database and pass in the number of starships that we have info about. We don't have a database in our application yet. So let's fake this by saying starship count equals I don't know 457. That seems like a believable fake number. To pass in a variable to pass in variables, add a second argument to render an array. Now pass number of starships set to starship count. So the key here is going to become the name of the variable inside the twig template.  To print this, I'll add a div. And then we'll say browse through and print that number, right curly curly, and then the variable name. All right, when we move over and try it, it works. So we just saw our first twig code. And twig only has three different types of syntaxes. The first is curly curly. And I call this the say something syntax. If you're printing something into intuit, you are going to use curly curly. What goes inside of here is twig language, which is almost identical to JavaScript. So for example, you could print the string number of starships. Or you could print the variable number of starships or even the or even number of starships times 10. The second syntax and twig starts with curly brace percent and I call this the do something syntax. It doesn't print anything it's when you're doing things like an if statement or a for loop or setting a variable. To do an if statement say if number of starships is greater than 400. And then close this with curly brace percent and if inside, I'll put a little comment. And when we try it, that works to documentation for documentation for twig lives at twig dot symphony.com. And one of the most important things to notice here are these tags. It turns out that there are a finite number of things you can use in a do something tag. Like you can't just say curly brace percent applesauce, that's going to be an error. The only things you can use with a do something tag are the tags you see in this list. So there's really not that many of them that you're going to need to learn. I probably use about five of these on a regular basis. The third and final syntax and twig is not even a syntax at all. It's the comment syntax. Curly brace percent to write a comment. That's it. In addition to handling simple numbers, twig can handle whatever complex data you throw at it. For example, in our controller, I'm going to create a new my ship variable, which is an associative array, and then pass that in as a new variable called my ship. Inside the template, I'll add another div. Let's say my ship and then a table to print that data.  Inside the TD, we can't just print my ship because that's printing an associative array, which doesn't make sense in PHP and doesn't make sense in twig. You get the error warning array to string conversion. We want to print the name key on that associative array. And the way we do that looks exactly like JavaScript, my ship dot name. That's it. It works. I'll paste in the rest of our template, which just prints the other keys on our ship. Looking good. So we does have a few other tricks up its sleeve, but it's nothing too complex. It has some functions built into it, which work like functions in any other languages. It also has something called tests, which are a little bit unique in Symfony in twig, but they're also simple enough to understand. Probably my favorite thing inside of twig are these filters. filters are basically a function with a cooler, more hipster syntax. For example, there's a filter called upper to send a string to uppercase. The way you use a filter is you find the string that you want to turn into uppercase, and you say pipe upper. So the value on the left gets passed through the filter. Just like you would do with a, a, a command line pipe in Linux. We tried this time, we have uppercase john Luke pickles. And you can go crazy with the stuff you can pipe to upper than pipe to lower just to confuse your teammates, and then pipe to title case. And everything works just fine. Okay, we've already Okay, we've already learned pretty much all of twig, except for one thing inheritance. Next, let's learn how to use a base layout template.
